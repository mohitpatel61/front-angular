<div class="container mt-4">
  <h3 class="text-center mb-4">Edit User</h3>

  <!-- Loading Spinner (Visible when isSaving is true) -->
  <div *ngIf="isSaving" class="d-flex justify-content-center">
    <mat-spinner diameter="30"></mat-spinner>
  </div>

  <!-- User Edit Form -->
  <mat-card class="p-4 shadow-sm">
    <form [formGroup]="userForm">
      <div class="form-group">
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>First Name</mat-label>
          <input matInput formControlName="firstName" required />
          <mat-error *ngIf="userForm.get('firstName')?.invalid && userForm.get('firstName')?.touched">
            First Name is required
          </mat-error>
        </mat-form-field>
      </div>

      <div class="form-group">
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Last Name</mat-label>
          <input matInput formControlName="lastName" required />
          <mat-error *ngIf="userForm.get('lastName')?.invalid && userForm.get('lastName')?.touched">
            Last Name is required
          </mat-error>
        </mat-form-field>
      </div>

      <div class="form-group">
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Gender</mat-label>
          <mat-select formControlName="gender" required>
            <mat-option value="Male">Male</mat-option>
            <mat-option value="Female">Female</mat-option>
            <mat-option value="Other">Other</mat-option>
          </mat-select>
          <mat-error *ngIf="userForm.get('gender')?.invalid && userForm.get('gender')?.touched">
            Gender is required
          </mat-error>
        </mat-form-field>
      </div>

      <div class="form-group">
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Age</mat-label>
          <input matInput type="number" formControlName="age" required />
          <mat-error *ngIf="userForm.get('age')?.invalid && userForm.get('age')?.touched">
            Age is required and must be a positive number
          </mat-error>
        </mat-form-field>
      </div>

      <div class="form-group">
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email" required email />
          <mat-error *ngIf="userForm.get('email')?.invalid && userForm.get('email')?.touched">
            Enter a valid email address
          </mat-error>
        </mat-form-field>
      </div>

      <div class="form-group">
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Phone</mat-label>
          <input matInput formControlName="phone" required />
          <mat-error *ngIf="userForm.get('phone')?.invalid && userForm.get('phone')?.touched">
            Enter a valid phone number (Indian format)
          </mat-error>
        </mat-form-field>
      </div>

    </form>
  </mat-card>
</div>

